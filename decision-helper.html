<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Decision Helper</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    font-family: Arial, sans-serif;
    background:#f7f7f7;
    margin:0;
    padding:0;
    display:flex;
    min-height:100vh;
    align-items:center;
    justify-content:center;
}
.container {
    background:#fff;
    padding:2rem;
    border-radius:8px;
    box-shadow:0 4px 10px rgba(0,0,0,.1);
    width:100%;
    max-width:420px;
}
h1 {
    font-size:1.5rem;
    margin-top:0;
    text-align:center;
}
form, .selectors {
    display:flex;
    gap:.5rem;
    margin-bottom:1rem;
    flex-wrap: wrap;
}
input[type="text"], select {
    flex:1 1 48%;
    padding:.5rem;
    border:1px solid #ccc;
    border-radius:4px;
}
button {
    padding:.5rem 1rem;
    border:none;
    background:#0077ff;
    color:#fff;
    border-radius:4px;
    cursor:pointer;
}
button:hover {
    background:#005cce;
}
ul {
    list-style:none;
    padding:0;
    margin:1rem 0;
    max-height:200px;
    overflow:auto;
}
ul li{
    background:#eee;
    padding:.5rem;
    margin-bottom:.25rem;
    border-radius:4px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    font-size:.9rem;
}
ul li button{
    background:#ff4d4d;
    font-size:.8rem;
    padding:.2rem .5rem;
}
#result{
    font-weight:bold;
    text-align:center;
    font-size:1.2rem;
    margin-top:1rem;
}
.control-buttons{
    display:flex;
    justify-content:space-between;
    gap:.5rem;
    margin-top:1rem;
}
.control-buttons button{
    flex:1;
}
@media (prefers-color-scheme: dark){
    body{background:#1e1e1e;color:#e5e5e5;}
    .container{background:#2b2b2b;}
    input[type="text"], select{background:#333;color:#e5e5e5;border-color:#555;}
    ul li{background:#3a3a3a;}
}
</style>
</head>
<body>
<div class="container">
<h1>üéØ Decision Helper</h1>
<div class="selectors">
    <input type="text" id="citySelect" placeholder="üèôÔ∏è Enter city (e.g. Rabat)" />
    <input type="text" id="activitySelect" placeholder="üé≠ Enter activity (e.g. Shopping)" />
</div>
<form id="addForm">
    <input type="text" id="itemInput" placeholder="üí° Add a suggestion..." required>
    <button type="submit">Add</button>
</form>
<ul id="itemList"></ul>
<div class="control-buttons">
    <button id="pickBtn">üé≤ Pick for me!</button>
    <button id="clearBtn">üóëÔ∏è Clear All</button>
</div>
<div id="result" hidden></div>
</div>

<script>
const addForm = document.getElementById('addForm');
const itemInput = document.getElementById('itemInput');
const itemList = document.getElementById('itemList');
const pickBtn = document.getElementById('pickBtn');
const clearBtn = document.getElementById('clearBtn');
const resultDiv = document.getElementById('result');
const citySelect = document.getElementById('citySelect');
const activitySelect = document.getElementById('activitySelect');

let items = [];

function renderList(){
    itemList.innerHTML='';
    items.forEach((text,index)=>{
        const li=document.createElement('li');
        li.textContent=text;
        const remove=document.createElement('button');
        remove.textContent='‚úï';
        remove.addEventListener('click',()=>{
            items.splice(index,1);
            renderList();
        });
        li.appendChild(remove);
        itemList.appendChild(li);
    });
}

addForm.addEventListener('submit',e=>{
    e.preventDefault();
    const value=itemInput.value.trim();
    if(value){
        items.push(value);
        itemInput.value='';
        renderList();
    }
});

pickBtn.addEventListener('click',()=>{
    if(items.length===0){
        alert('Add some suggestions first!');
        return;
    }
    const city = citySelect.value.trim();
    const activity = activitySelect.value.trim();
    const choice=items[Math.floor(Math.random()*items.length)];
    resultDiv.textContent='üéâ Your plan: ' + (city ? city + ' - ' : '') + (activity ? activity + ' - ' : '') + choice;
    resultDiv.hidden=false;

    const textToShare = 'Let's do: ' + (city ? city + ' - ' : '') + (activity ? activity + ' - ' : '') + choice;
    if(navigator.share){
        navigator.share({
            title:'Our chosen plan!',
            text: textToShare
        }).catch(()=>{});
    } else {
        navigator.clipboard.writeText(textToShare).catch(()=>{});
    }
});

clearBtn.addEventListener('click',()=>{
    if(confirm('Clear all suggestions?')){
        items=[];
        renderList();
        resultDiv.hidden=true;
    }
});
</script>
</body>
</html>
